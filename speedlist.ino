// Interrupt Service Routine (ISR) 
volatile int i=0, j=0; 
volatile int speed[3][1201] = {
{4799,4808,4837,4885,4954,5046,5161,5303,5476,5683,5932,6228,6583,7010,7529,8165,8957,9962,11272,13038,15532,19300,25615,38296,65535,65535,65535,38296,25615,19300,15532,13038,11272,9962,8957,8165,7529,7010,6583,6228,5932,5683,5476,5303,5161,5046,4954,4885,4837,4808,4799,4808,4837,4885,4954,5046,5161,5303,5476,5683,5932,6228,6583,7010,7529,8165,8957,9962,11272,13038,15532,19300,25615,38296,65535,65535,65535,38296,25615,19300,15532,13038,11272,9962,8957,8165,7529,7010,6583,6228,5932,5683,5476,5303,5161,5046,4954,4885,4837,4808,4799,4808,4837,4885,4954,5046,5161,5303,5476,5683,5932,6228,6583,7010,7529,8165,8957,9962,11272,13038,15532,19300,25615,38296,65535,65535,65535,38296,25615,19300,15532,13038,11272,9962,8957,8165,7529,7010,6583,6228,5932,5683,5476,5303,5161,5046,4954,4885,4837,4808,4799,4808,4837,4885,4954,5046,5161,5303,5476,5683,5932,6228,6583,7010,7529,8165,8957,9962,11272,13038,15532,19300,25615,38296,65535,65535,65535,38296,25615,19300,15532,13038,11272,9962,8957,8165,7529,7010,6583,6228,5932,5683,5476,5303,5161,5046,4954,4885,4837,4808,4799,4808,4837,4885,4954,5046,5161,5303,5476,5683,5932,6228,6583,7010,7529,8165,8957,9962,11272,13038,15532,19300,25615,38296,65535,65535,65535,38296,25615,19300,15532,13038,11272,9962,8957,8165,7529,7010,6583,6228,5932,5683,5476,5303,5161,5046,4954,4885,4837,4808,4799,4808,4837,4885,4954,5046,5161,5303,5476,5683,5932,6228,6583,7010,7529,8165,8957,9962,11272,13038,15532,19300,25615,38296,65535,65535,65535,38296,25615,19300,15532,13038,11272,9962,8957,8165,7529,7010,6583,6228,5932,5683,5476,5303,5161,5046,4954,4885,4837,4808,4799,4808,4837,4885,4954,5046,5161,5303,5476,5683,5932,6228,6583,7010,7529,8165,8957,9962,11272,13038,15532,19300,25615,38296,65535,65535,65535,38296,25615,19300,15532,13038,11272,9962,8957,8165,7529,7010,6583,6228,5932,5683,5476,5303,5161,5046,4954,4885,4837,4808,4799,4808,4837,4885,4954,5046,5161,5303,5476,5683,5932,6228,6583,7010,7529,8165,8957,9962,11272,13038,15532,19300,25615,38296,65535,65535,65535,38296,25615,19300,15532,13038,11272,9962,8957,8165,7529,7010,6583,6228,5932,5683,5476,5303,5161,5046,4954,4885,4837,4808,4799,4808,4837,4885,4954,5046,5161,5303,5476,5683,5932,6228,6583,7010,7529,8165,8957,9962,11272,13038,15532,19300,25615,38296,65535,65535,65535,38296,25615,19300,15532,13038,11272,9962,8957,8165,7529,7010,6583,6228,5932,5683,5476,5303,5161,5046,4954,4885,4837,4808,4799,4808,4837,4885,4954,5046,5161,5303,5476,5683,5932,6228,6583,7010,7529,8165,8957,9962,11272,13038,15532,19300,25615,38296,65535,65535,65535,38296,25615,19300,15532,13038,11272,9962,8957,8165,7529,7010,6583,6228,5932,5683,5476,5303,5161,5046,4954,4885,4837,4808,4799,4808,4837,4885,4954,5046,5161,5303,5476,5683,5932,6228,6583,7010,7529,8165,8957,9962,11272,13038,15532,19300,25615,38296,65535,65535,65535,38296,25615,19300,15532,13038,11272,9962,8957,8165,7529,7010,6583,6228,5932,5683,5476,5303,5161,5046,4954,4885,4837,4808,4799,4808,4837,4885,4954,5046,5161,5303,5476,5683,5932,6228,6583,7010,7529,8165,8957,9962,11272,13038,15532,19300,25615,38296,65535,65535,65535,38296,25615,19300,15532,13038,11272,9962,8957,8165,7529,7010,6583,6228,5932,5683,5476,5303,5161,5046,4954,4885,4837,4808,4799,4808,4837,4885,4954,5046,5161,5303,5476,5683,5932,6228,6583,7010,7529,8165,8957,9962,11272,13038,15532,19300,25615,38296,65535,65535,65535,38296,25615,19300,15532,13038,11272,9962,8957,8165,7529,7010,6583,6228,5932,5683,5476,5303,5161,5046,4954,4885,4837,4808,4799,4808,4837,4885,4954,5046,5161,5303,5476,5683,5932,6228,6583,7010,7529,8165,8957,9962,11272,13038,15532,19300,25615,38296,65535,65535,65535,38296,25615,19300,15532,13038,11272,9962,8957,8165,7529,7010,6583,6228,5932,5683,5476,5303,5161,5046,4954,4885,4837,4808,4799,4808,4837,4885,4954,5046,5161,5303,5476,5683,5932,6228,6583,7010,7529,8165,8957,9962,11272,13038,15532,19300,25615,38296,65535,65535,65535,38296,25615,19300,15532,13038,11272,9962,8957,8165,7529,7010,6583,6228,5932,5683,5476,5303,5161,5046,4954,4885,4837,4808,4799,4808,4837,4885,4954,5046,5161,5303,5476,5683,5932,6228,6583,7010,7529,8165,8957,9962,11272,13038,15532,19300,25615,38296,65535,65535,65535,38296,25615,19300,15532,13038,11272,9962,8957,8165,7529,7010,6583,6228,5932,5683,5476,5303,5161,5046,4954,4885,4837,4808,4799,4808,4837,4885,4954,5046,5161,5303,5476,5683,5932,6228,6583,7010,7529,8165,8957,9962,11272,13038,15532,19300,25615,38296,65535,65535,65535,38296,25615,19300,15532,13038,11272,9962,8957,8165,7529,7010,6583,6228,5932,5683,5476,5303,5161,5046,4954,4885,4837,4808,4799,4808,4837,4885,4954,5046,5161,5303,5476,5683,5932,6228,6583,7010,7529,8165,8957,9962,11272,13038,15532,19300,25615,38296,65535,65535,65535,38296,25615,19300,15532,13038,11272,9962,8957,8165,7529,7010,6583,6228,5932,5683,5476,5303,5161,5046,4954,4885,4837,4808,4799,4808,4837,4885,4954,5046,5161,5303,5476,5683,5932,6228,6583,7010,7529,8165,8957,9962,11272,13038,15532,19300,25615,38296,65535,65535,65535,38296,25615,19300,15532,13038,11272,9962,8957,8165,7529,7010,6583,6228,5932,5683,5476,5303,5161,5046,4954,4885,4837,4808,4799,4808,4837,4885,4954,5046,5161,5303,5476,5683,5932,6228,6583,7010,7529,8165,8957,9962,11272,13038,15532,19300,25615,38296,65535,65535,65535,38296,25615,19300,15532,13038,11272,9962,8957,8165,7529,7010,6583,6228,5932,5683,5476,5303,5161,5046,4954,4885,4837,4808,4799,4808,4837,4885,4954,5046,5161,5303,5476,5683,5932,6228,6583,7010,7529,8165,8957,9962,11272,13038,15532,19300,25615,38296,65535,65535,65535,38296,25615,19300,15532,13038,11272,9962,8957,8165,7529,7010,6583,6228,5932,5683,5476,5303,5161,5046,4954,4885,4837,4808,4799,4808,4837,4885,4954,5046,5161,5303,5476,5683,5932,6228,6583,7010,7529,8165,8957,9962,11272,13038,15532,19300,25615,38296,65535,65535,65535,38296,25615,19300,15532,13038,11272,9962,8957,8165,7529,7010,6583,6228,5932,5683,5476,5303,5161,5046,4954,4885,4837,4808,4799,4808,4837,4885,4954,5046,5161,5303,5476,5683,5932,6228,6583,7010,7529,8165,8957,9962,11272,13038,15532,19300,25615,38296,65535,65535,65535,38296,25615,19300,15532,13038,11272,9962,8957,8165,7529,7010,6583,6228,5932,5683,5476,5303,5161,5046,4954,4885,4837,4808,4799,4808,4837,4885,4954,5046,5161,5303,5476,5683,5932,6228,6583,7010,7529,8165,8957,9962,11272,13038,15532,19300,25615,38296,65535,65535,65535,38296,25615,19300,15532,13038,11272,9962,8957,8165,7529,7010,6583,6228,5932,5683,5476,5303,5161,5046,4954,4885,4837,4808,4799},
{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}};
ISR(TIMER3_COMPA_vect)
{
OCR1A = speed[0][j];
OCR4A = speed[0][j];
TCCR4A = (speed[2][j] << COM4A0); //toggle OC4A on compare match
TCCR1A = (speed[1][j] << COM1A0); //toggle OC1A on compare match
i++;
j = i % 1201;

}

void setup(void)
{
pinMode(11, OUTPUT); //timer 1 OC1A
pinMode(6,OUTPUT); //timer 4 OC4A

cli();         // disable global interrupts

TCCR1A = 0; // set registers = 0
TCCR1B = 0;
TCCR3A = 0;
TCCR3B = 0;
TCCR4A = 0;
TCCR4B = 0;

CLKPR = (1 << CLKPCE) | (0 << CLKPS3) | (0 << CLKPS2) | (0 << CLKPS1) | (0 << CLKPS0);

CLKPR = (0 << CLKPCE) | (0 << CLKPS3) | (0 << CLKPS2) | (1 << CLKPS1) | (0 << CLKPS0);

TIMSK3 |= (1 << OCIE3A); //Enable timer compare interrupt

sei();       // enable interrupts

OCR1A = 10000; 
OCR1B = 5000;

OCR3A = 389;

TCCR1B = (1 << WGM12) | (1 << CS10); //CTC mode, prescaler clock/1

TCCR4B = (1 << WGM42) | (1 << CS40);  //CTC mode, prescaler clock/1

TCCR3B = (1 << WGM32) | (1 << CS32) | (1 << CS30);  //CTC mode, prescaler clock/1024

}void loop(void)
{
 }